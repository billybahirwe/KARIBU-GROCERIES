doctype html
html
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title Update Produce
    link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css')
    style.
      .produce-img {
        max-width: 150px;
        height: auto;
        border-radius: 8px;
        display: block;
        margin: 10px auto;
      }

  body
    // Navbar
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      .container-fluid
        a.navbar-brand(href='/') Karibu Groceries
        button.navbar-toggler(type='button', data-bs-toggle='collapse', data-bs-target='#navbarNav') 
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse
          ul.navbar-nav.ms-auto
            li.nav-item
              a.nav-link(href='/produce/list') Produce List
            li.nav-item
              a.nav-link(href='/sales/sale') Register Sale
            li.nav-item
              a.nav-link(href='/sales/credit') Register Credit
            li.nav-item
              a.nav-link(href='/') Home
            li.nav-item
              a.nav-link(href='/logout') Logout

    .container.mt-5
      h2.text-center.mb-4 Update Produce

      form(action=`/produce/update/${produce._id}`, method='POST', enctype='multipart/form-data')
        .text-center
          img.produce-img(src=`/img/${produce.image}`, alt=produce.produceName)

        .mb-3
          label.form-label(for='produceName') Name of Produce
          input.form-control(type='text', name='produceName', id='produceName', required, value=produce.produceName)

        .mb-3
          label.form-label(for='type') Type of Produce
          input.form-control(type='text', name='type', id='type', required, value=produce.type)

        .mb-3
          label.form-label(for='date') Date of Procurement
          input.form-control(type='date', name='date', id='date', required, value=produce.date)

        .mb-3
          label.form-label(for='time') Time of Produce
          input.form-control(type='time', name='time', id='time', required, value=produce.time)

        .mb-3
          label.form-label(for='tonnage') Tonnage (kgs)
          input.form-control(type='number', name='tonnage', id='tonnage', required, min='100', value=produce.tonnage)

        .mb-3
          label.form-label(for='cost') Cost in UGX
          input.form-control(type='number', name='cost', id='cost', required, min='10000', value=produce.cost)

        .mb-3
          label.form-label(for='dealer') Dealer Name
          input.form-control(type='text', name='dealer', id='dealer', required, value=produce.dealer)

        .mb-3
          label.form-label(for='branch') Branch
          select.form-select(name='branch', id='branch', required)
            option(value='') Select a branch
            option(value='Maganjo', selected=produce.branch==='Maganjo') Maganjo
            option(value='Matugga', selected=produce.branch==='Matugga') Matugga

        .mb-3
          label.form-label(for='contact') Contact
          input.form-control(type='tel', name='contact', id='contact', required, pattern='^\\+[0-9]{7,15}$', value=produce.contact)

        .mb-3
          label.form-label(for='price') Price to be Sold At (UGX)
          input.form-control(type='number', name='price', id='price', required, min='1000', value=produce.price)

        .mb-3
          label.form-label(for='image') Update Produce Image (Optional)
          input.form-control(type='file', name='image', id='image')
          small.text-muted If no image selected, current image will be kept.

        button.btn.btn-success(type='submit') Update Produce

    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js')
